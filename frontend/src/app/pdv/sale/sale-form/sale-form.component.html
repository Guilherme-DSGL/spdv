<h1 class="title">
    Realizar Venda</h1>
<form (ngSubmit)="submit()" [formGroup]="formSale" #f="ngForm">
    <div>
        <mat-form-field>
            <mat-label>ID</mat-label>
            <input matInput type="number" formControlName="id" name="id">
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Cliente</mat-label>
            <mat-select required formControlName="client" name="client" [compareWith]="compareClient">
                <mat-option>--</mat-option>
                <mat-option *ngFor="let client of clients" [value]="client">
                    {{ client.name }}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="getFieldIsValid(formSale.controls['client'])">{{saleValidatorMessages.getCategoryMessages(formSale.controls['client'])}}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Produto</mat-label>
            <mat-select required formControlName="product" name="product" [compareWith]="compareProduct">
                <mat-option>--</mat-option>
                <mat-option *ngFor="let product of products" [value]="product">
                    {{ product.name }} - {{ product.price | currency:"BRL" }}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="getFieldIsValid(formSale.controls['product'])">{{saleValidatorMessages.getCategoryMessages(formSale.controls['product'])}}</mat-error>
        </mat-form-field>

    </div>
    <div>
        <mat-form-field>
            <mat-label>Preco</mat-label>
            <input matInput type="number" placeholder="Preco" formControlName="salePrice" name="salePrice" required>
            <mat-error *ngIf="getFieldIsValid(formSale.controls['salePrice'])">{{saleValidatorMessages.getPriceMessages(formSale.controls['salePrice'])}}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Tipo de Venda</mat-label>
            <mat-select required formControlName="saleType" name="saleType">
                <mat-option>--</mat-option>
                <mat-option *ngFor="let type of saleType" [value]="type">
                    {{ type }}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="getFieldIsValid(formSale.controls['product'])">{{saleValidatorMessages.getCategoryMessages(formSale.controls['product'])}}</mat-error>
        </mat-form-field>

    </div>

    <div class="button">
        <button mat-raised-button color="primary" [disabled]="formSale.invalid">Enviar</button>
    </div>

</form>